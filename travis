language: python
sudo: required

before_install: # 下载依赖
  - sudo pip install aliyun-python-sdk-cdn
  - sudo pip install aliyun-python-sdk-core

script:
  - python Refresh.py -i ${AccessKeyID} -k ${AccessKeySecret} -r ${url} -t clear -a overseas -o Directory


#after_script:
#  - cd ./public
#  - git init
#  - git config user.name "ayagawaseirin"
#  - git config user.email "25474520+AyagawaSeirin@users.noreply.github.com"
#  - git add .
#  - git commit -m "Update docs"
#  - git push --force --quiet "https://${GH_TOKEN}@${GH_REF}" master:gh-pages # 通过之前存在Travis-CI里的token以及github仓库的地址推送到相应的master分支
#  - git push --force --quiet "https://${CD_NAME}:${CD_TOKEN}@${CD_REF}" master:master
# E: Build LifeCycle

branches:
  only:
    - gh-pages # 只对gh-pages分支构建